import{S as Bt,i as Tt,s as Lt,j as St,m as At,o as Wt,R as Qe,x as he,u as Ze,v as jt,e as u,t as d,k as p,c,a as f,g as b,d as i,n as m,b as U,f as G,J as t,w as Dt,T as Nt,U as $e,V as xe,r as Yt,G as ue,W as et,K as wt,X as Gt}from"../../chunks/vendor-219f1c8b.js";import Rt from"./city.svelte-ad217cbe.js";function Et(r,o,_){const e=r.slice();return e[7]=o[_],e[8]=o,e[9]=_,e}function It(r){let o,_,e,g,y;function B(a){r[4](a,r[7])}function S(a){r[5](a,r[7])}function A(a){r[6](a,r[7])}let T={name:r[7][0],obelisk:r[7][1].obelisk,walls:r[7][1].walls,barracks:r[7][1].barracks,soldiers:r[7][1].soldiers,cities:r[0],actions:r[1]};return r[7][1].action!==void 0&&(T.action=r[7][1].action),r[7][1].target!==void 0&&(T.target=r[7][1].target),r[7][1].lore!==void 0&&(T.lore=r[7][1].lore),o=new Rt({props:T}),$e.push(()=>xe(o,"action",B)),$e.push(()=>xe(o,"target",S)),$e.push(()=>xe(o,"lore",A)),{c(){St(o.$$.fragment)},l(a){At(o.$$.fragment,a)},m(a,n){Wt(o,a,n),y=!0},p(a,n){r=a;const v={};n&1&&(v.name=r[7][0]),n&1&&(v.obelisk=r[7][1].obelisk),n&1&&(v.walls=r[7][1].walls),n&1&&(v.barracks=r[7][1].barracks),n&1&&(v.soldiers=r[7][1].soldiers),n&1&&(v.cities=r[0]),!_&&n&1&&(_=!0,v.action=r[7][1].action,Qe(()=>_=!1)),!e&&n&1&&(e=!0,v.target=r[7][1].target,Qe(()=>e=!1)),!g&&n&1&&(g=!0,v.lore=r[7][1].lore,Qe(()=>g=!1)),o.$set(v)},i(a){y||(he(o.$$.fragment,a),y=!0)},o(a){Ze(o.$$.fragment,a),y=!1},d(a){jt(o,a)}}}function Ct(r){let o,_,e,g,y,B,S,A;return{c(){o=u("div"),_=u("button"),e=d("End this Turn"),g=p(),y=u("button"),B=d("Add another city-state"),this.h()},l(T){o=c(T,"DIV",{style:!0});var a=f(o);_=c(a,"BUTTON",{class:!0});var n=f(_);e=b(n,"End this Turn"),n.forEach(i),g=m(a),y=c(a,"BUTTON",{class:!0});var v=f(y);B=b(v,"Add another city-state"),v.forEach(i),a.forEach(i),this.h()},h(){U(_,"class","svelte-1a09293"),U(y,"class","svelte-1a09293"),ue(o,"display","flex"),ue(o,"flex-direction","row"),ue(o,"justify-content","center"),ue(o,"align-items","center"),ue(o,"width","100%")},m(T,a){G(T,o,a),t(o,_),t(_,e),t(o,g),t(o,y),t(y,B),S||(A=[et(_,"click",r[3]),et(y,"click",r[2])],S=!0)},p:wt,d(T){T&&i(o),S=!1,Gt(A)}}}function Pt(r){let o,_,e,g;return{c(){o=u("button"),_=d("Begin the Obelisk..."),this.h()},l(y){o=c(y,"BUTTON",{class:!0});var B=f(o);_=b(B,"Begin the Obelisk..."),B.forEach(i),this.h()},h(){U(o,"class","svelte-1a09293")},m(y,B){G(y,o,B),t(o,_),e||(g=et(o,"click",r[2]),e=!0)},p:wt,d(y){y&&i(o),e=!1,g()}}}function Ut(r){let o,_,e,g,y,B,S,A,T,a,n,v,I,s,w,L,D,N,q,F,H,C,de,be,J,ye,pe,X,me,ke,z,ge,ve,Q,we,Ee,O,Z,Ie,Oe,$,Be,Te,x,Le,Se,ee,Ae,We,te,je,De,le,Ne,Ye,K,Ge,j,oe,Re,Ce,se,Pe,Ue,re,qe,He,ae,Me,Ve,ie,Fe,Ke,ne,Je,ce,V=Object.entries(r[0]),k=[];for(let l=0;l<V.length;l+=1)k[l]=It(Et(r,V,l));const Ot=l=>Ze(k[l],1,1,()=>{k[l]=null});function tt(l,h){return(B==null||h&1)&&(B=Object.entries(l[0]).length===0),B?Pt:Ct}let fe=tt(r,-1),R=fe(r);return{c(){o=u("pre"),_=d(`u/revesvan's
                                  \u2571\u2572
                                  ||
   ________ ___.          .__     ||          ____  __.
   \\_____  \\\\_ |__   ____ |  |    ||    _____|    |/ _|
    /   |   \\| __ \\_/ __ \\|  |    ||   /  ___/      \u2039 
   /    |    \\ \\_\\ \\  ___/|  |__ |  |  \\___ \\|    |  \\ 
   \\_______  /___  /\\___  \u203A____/_|__|_/____  \u203A____|__ \\
           \\/    \\/     \\/     \u2571______\u2572    \\/        \\/`),e=p(),g=u("div");for(let l=0;l<k.length;l+=1)k[l].c();y=p(),R.c(),S=p(),A=u("p"),T=d("King, you must now gather your masons and bolster your defenses, for you have heard the plea of the gods. You must build an Obelisk."),a=p(),n=u("p"),v=d("It will scrape the heavens and be immortal in its glory, and your name will be forever carved among its great stones. But hurry, for across the lands, the lords of strange lands have also heard the call. And should their efforts succeed while you tarry, your worship will go unheard, and your name die with you."),I=p(),s=u("div"),w=u("p"),L=d("You rule a city-state, with the following stats:"),D=p(),N=u("ul"),q=u("li"),F=d("Obelisk: Your progress towards winning the game."),H=p(),C=u("li"),de=d("Walls: These help you defend your obelisk from other players"),be=p(),J=u("li"),ye=d("Barracks: These help you raise an army to prevent other players from completing their obelisks"),pe=p(),X=u("li"),me=d("Soldiers: This is the number of soldiers in your army"),ke=p(),z=u("p"),ge=d("Resources have a minimum of 0, and a maximum of 10 (except soldiers)."),ve=p(),Q=u("p"),we=d("Each turn you select one action to take from the following list:"),Ee=p(),O=u("ul"),Z=u("li"),Ie=d("Declare a Holiday: Gain 1 Soldier"),Oe=p(),$=u("li"),Be=d("Build Obelisk: Gain 1 Obelisk"),Te=p(),x=u("li"),Le=d("Build Wall: Gain 1 Wall"),Se=p(),ee=u("li"),Ae=d("Build Barracks: Gain 1 Barracks"),We=p(),te=u("li"),je=d("Recruit Soldiers: You gain soldiers equal to the number of Barracks in your city"),De=p(),le=u("li"),Ne=d("Defend: Double your Wall stat until your next turn"),Ye=p(),K=u("li"),Ge=d(`Attack TARGET_NAME
			`),j=u("ul"),oe=u("li"),Re=d("Choose another player."),Ce=p(),se=u("li"),Pe=d("If any other player has attacked that player, you lose one soldier for each soldier of the attacker with the highest number of soldiers."),Ue=p(),re=u("li"),qe=d("You then lose one soldier for each of your target\u2019s Walls."),He=p(),ae=u("li"),Me=d("If your target is not Attacking, Recruiting, or on Holiday, you lose one soldier for each of their Soldiers. They also lose 1 soldier for each of your soldiers lost this way."),Ve=p(),ie=u("li"),Fe=d("For each soldier you have remaining, remove one of your target\u2019s Obelisk. If they reach 0, they lose the game."),Ke=p(),ne=u("p"),Je=d("You win if you get to 10 Obelisk or all your opponents have 0 Obelisk."),this.h()},l(l){o=c(l,"PRE",{class:!0});var h=f(o);_=b(h,`u/revesvan's
                                  \u2571\u2572
                                  ||
   ________ ___.          .__     ||          ____  __.
   \\_____  \\\\_ |__   ____ |  |    ||    _____|    |/ _|
    /   |   \\| __ \\_/ __ \\|  |    ||   /  ___/      \u2039 
   /    |    \\ \\_\\ \\  ___/|  |__ |  |  \\___ \\|    |  \\ 
   \\_______  /___  /\\___  \u203A____/_|__|_/____  \u203A____|__ \\
           \\/    \\/     \\/     \u2571______\u2572    \\/        \\/`),h.forEach(i),e=m(l),g=c(l,"DIV",{id:!0,class:!0});var E=f(g);for(let ze=0;ze<k.length;ze+=1)k[ze].l(E);E.forEach(i),y=m(l),R.l(l),S=m(l),A=c(l,"P",{class:!0});var _e=f(A);T=b(_e,"King, you must now gather your masons and bolster your defenses, for you have heard the plea of the gods. You must build an Obelisk."),_e.forEach(i),a=m(l),n=c(l,"P",{class:!0});var lt=f(n);v=b(lt,"It will scrape the heavens and be immortal in its glory, and your name will be forever carved among its great stones. But hurry, for across the lands, the lords of strange lands have also heard the call. And should their efforts succeed while you tarry, your worship will go unheard, and your name die with you."),lt.forEach(i),I=m(l),s=c(l,"DIV",{id:!0,class:!0});var Y=f(s);w=c(Y,"P",{});var ot=f(w);L=b(ot,"You rule a city-state, with the following stats:"),ot.forEach(i),D=m(Y),N=c(Y,"UL",{});var M=f(N);q=c(M,"LI",{});var st=f(q);F=b(st,"Obelisk: Your progress towards winning the game."),st.forEach(i),H=m(M),C=c(M,"LI",{});var rt=f(C);de=b(rt,"Walls: These help you defend your obelisk from other players"),rt.forEach(i),be=m(M),J=c(M,"LI",{});var at=f(J);ye=b(at,"Barracks: These help you raise an army to prevent other players from completing their obelisks"),at.forEach(i),pe=m(M),X=c(M,"LI",{});var it=f(X);me=b(it,"Soldiers: This is the number of soldiers in your army"),it.forEach(i),M.forEach(i),ke=m(Y),z=c(Y,"P",{});var nt=f(z);ge=b(nt,"Resources have a minimum of 0, and a maximum of 10 (except soldiers)."),nt.forEach(i),ve=m(Y),Q=c(Y,"P",{});var _t=f(Q);we=b(_t,"Each turn you select one action to take from the following list:"),_t.forEach(i),Ee=m(Y),O=c(Y,"UL",{});var W=f(O);Z=c(W,"LI",{});var ut=f(Z);Ie=b(ut,"Declare a Holiday: Gain 1 Soldier"),ut.forEach(i),Oe=m(W),$=c(W,"LI",{});var ct=f($);Be=b(ct,"Build Obelisk: Gain 1 Obelisk"),ct.forEach(i),Te=m(W),x=c(W,"LI",{});var ft=f(x);Le=b(ft,"Build Wall: Gain 1 Wall"),ft.forEach(i),Se=m(W),ee=c(W,"LI",{});var ht=f(ee);Ae=b(ht,"Build Barracks: Gain 1 Barracks"),ht.forEach(i),We=m(W),te=c(W,"LI",{});var dt=f(te);je=b(dt,"Recruit Soldiers: You gain soldiers equal to the number of Barracks in your city"),dt.forEach(i),De=m(W),le=c(W,"LI",{});var bt=f(le);Ne=b(bt,"Defend: Double your Wall stat until your next turn"),bt.forEach(i),Ye=m(W),K=c(W,"LI",{});var Xe=f(K);Ge=b(Xe,`Attack TARGET_NAME
			`),j=c(Xe,"UL",{});var P=f(j);oe=c(P,"LI",{});var yt=f(oe);Re=b(yt,"Choose another player."),yt.forEach(i),Ce=m(P),se=c(P,"LI",{});var pt=f(se);Pe=b(pt,"If any other player has attacked that player, you lose one soldier for each soldier of the attacker with the highest number of soldiers."),pt.forEach(i),Ue=m(P),re=c(P,"LI",{});var mt=f(re);qe=b(mt,"You then lose one soldier for each of your target\u2019s Walls."),mt.forEach(i),He=m(P),ae=c(P,"LI",{});var kt=f(ae);Me=b(kt,"If your target is not Attacking, Recruiting, or on Holiday, you lose one soldier for each of their Soldiers. They also lose 1 soldier for each of your soldiers lost this way."),kt.forEach(i),Ve=m(P),ie=c(P,"LI",{});var gt=f(ie);Fe=b(gt,"For each soldier you have remaining, remove one of your target\u2019s Obelisk. If they reach 0, they lose the game."),gt.forEach(i),P.forEach(i),Xe.forEach(i),W.forEach(i),Ke=m(Y),ne=c(Y,"P",{});var vt=f(ne);Je=b(vt,"You win if you get to 10 Obelisk or all your opponents have 0 Obelisk."),vt.forEach(i),Y.forEach(i),this.h()},h(){U(o,"class","centered svelte-1a09293"),U(g,"id","cities"),U(g,"class","svelte-1a09293"),U(A,"class","lore svelte-1a09293"),U(n,"class","lore svelte-1a09293"),U(s,"id","rules"),U(s,"class","svelte-1a09293")},m(l,h){G(l,o,h),t(o,_),G(l,e,h),G(l,g,h);for(let E=0;E<k.length;E+=1)k[E].m(g,null);G(l,y,h),R.m(l,h),G(l,S,h),G(l,A,h),t(A,T),G(l,a,h),G(l,n,h),t(n,v),G(l,I,h),G(l,s,h),t(s,w),t(w,L),t(s,D),t(s,N),t(N,q),t(q,F),t(N,H),t(N,C),t(C,de),t(N,be),t(N,J),t(J,ye),t(N,pe),t(N,X),t(X,me),t(s,ke),t(s,z),t(z,ge),t(s,ve),t(s,Q),t(Q,we),t(s,Ee),t(s,O),t(O,Z),t(Z,Ie),t(O,Oe),t(O,$),t($,Be),t(O,Te),t(O,x),t(x,Le),t(O,Se),t(O,ee),t(ee,Ae),t(O,We),t(O,te),t(te,je),t(O,De),t(O,le),t(le,Ne),t(O,Ye),t(O,K),t(K,Ge),t(K,j),t(j,oe),t(oe,Re),t(j,Ce),t(j,se),t(se,Pe),t(j,Ue),t(j,re),t(re,qe),t(j,He),t(j,ae),t(ae,Me),t(j,Ve),t(j,ie),t(ie,Fe),t(s,Ke),t(s,ne),t(ne,Je),ce=!0},p(l,[h]){if(h&3){V=Object.entries(l[0]);let E;for(E=0;E<V.length;E+=1){const _e=Et(l,V,E);k[E]?(k[E].p(_e,h),he(k[E],1)):(k[E]=It(_e),k[E].c(),he(k[E],1),k[E].m(g,null))}for(Yt(),E=V.length;E<k.length;E+=1)Ot(E);Dt()}fe===(fe=tt(l,h))&&R?R.p(l,h):(R.d(1),R=fe(l),R&&(R.c(),R.m(S.parentNode,S)))},i(l){if(!ce){for(let h=0;h<V.length;h+=1)he(k[h]);ce=!0}},o(l){k=k.filter(Boolean);for(let h=0;h<k.length;h+=1)Ze(k[h]);ce=!1},d(l){l&&i(o),l&&i(e),l&&i(g),Nt(k,l),l&&i(y),R.d(l),l&&i(S),l&&i(A),l&&i(a),l&&i(n),l&&i(I),l&&i(s)}}}function qt(r,o,_){let e={},g=["Declare a Holiday","Build the Obelisk","Fortify the Walls","Construct a Barracks","Recruit more Soldiers","Defend the City","Attack your Foes","Cheat"];function y(){_(0,e["State "+(1+Object.entries(e).length)]={obelisk:1,walls:1,barracks:1,soldiers:1,action:0,target:"",lore:""},e)}function B(){let a=Object.entries(e),n={};for(let I=0;I<a.length;I++){let s=a[I][0];switch(e[s].action){case 0:_(0,e[s].soldiers++,e);break;case 1:break;case 2:break;case 3:_(0,e[s].barracks++,e);break;case 4:_(0,e[s].soldiers+=e[s].barracks,e);break;case 5:break;case 6:let w=e[s].target;if(!(w in e))break;let L=0;for(let H=0;H<a.length;H++){if(I===H)continue;let C=a[H][0];e[C].action===6&&e[C].target===e[s].target&&e[C].soldiers>L&&(L=e[C].soldiers)}let D=e[w].soldiers;({0:!0,4:!0,6:!0})[e[w].action]&&(D=0);let q=e[w].walls;e[w].action===5&&(q*=2),s in n||(n[s]=0),n[s]+=L+D+q;let F=n[s]-q-L;F>0&&(w in n||(n[w]=0),n[w]+=F),e[s].soldiers>n[s]&&_(0,e[w].obelisk=e[w].obelisk-e[s].soldiers+n[s],e),e[w].obelisk<0&&(_(0,e[w].obelisk=0,e),alert(w+"'s Obelisk has been demolished!"));break;case 7:break;default:alert("Illegal game state reached! action was '"+e[s].action+"'")}}let v=Object.entries(n);for(let I=0;I<v.length;I++){let s=v[I][1];_(0,e[v[I][0]].soldiers=Math.max(e[v[I][0]].soldiers-s,0),e)}for(let I=0;I<a.length;I++){let s=a[I][0];switch(e[s].action){case 1:_(0,e[s].obelisk++,e),e[s].obelisk===10&&alert(s+"'s obelisk has been completed! Hooray!");break;case 2:_(0,e[s].walls++,e);break;case 7:let w=e[s].target.split(" ");if(w.length!=4){alert("To cheat, put 4 space-seperated integers as the values of your 4 resources. Example: '9 1 3 20'");break}let L=[];for(let D=0;D<4;D++)if(L[D]=parseInt(w[D]),L[D]===NaN){alert("To cheat, put 4 space-seperated integers as the values of your 4 resources. Example: '9 1 3 20'");break}_(0,e[s].obelisk=L[0],e),_(0,e[s].walls=L[1],e),_(0,e[s].barracks=L[2],e),_(0,e[s].soldiers=L[3],e);break}}}function S(a,n){r.$$.not_equal(n[1].action,a)&&(n[1].action=a)}function A(a,n){r.$$.not_equal(n[1].target,a)&&(n[1].target=a)}function T(a,n){r.$$.not_equal(n[1].lore,a)&&(n[1].lore=a)}return[e,g,y,B,S,A,T]}class Vt extends Bt{constructor(o){super();Tt(this,o,qt,Ut,Lt,{})}}export{Vt as default};
